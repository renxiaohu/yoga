Index: src/main/java/com/woniu/yoga/user/service/serviceImpl/CoachServiceImpl.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- src/main/java/com/woniu/yoga/user/service/serviceImpl/CoachServiceImpl.java	(revision 1079668545ec855fa3bdcc7abb5d74a43a94f0ce)
+++ src/main/java/com/woniu/yoga/user/service/serviceImpl/CoachServiceImpl.java	(date 1555987752596)
@@ -5,6 +5,8 @@
 import com.woniu.yoga.user.pojo.Coach;
 import com.woniu.yoga.user.pojo.Order;
 import com.woniu.yoga.user.service.CoachService;
+import com.woniu.yoga.venue.pojo.Recruitment;
+import com.woniu.yoga.venue.pojo.Venue;
 import com.woniu.yoga.user.util.OrderUtil;
 import com.woniu.yoga.user.util.ResultUtil;
 import com.woniu.yoga.user.vo.Result;
@@ -12,6 +14,8 @@
 import org.springframework.beans.factory.annotation.Autowired;
 import org.springframework.stereotype.Service;
 
+import java.util.List;
+
 import java.util.ArrayList;
 import java.util.List;
 
@@ -110,4 +114,10 @@
         return ResultUtil.connectDatabaseFail();
     }
 
+
+    @Override
+    public List<Venue> findVenueByConditions(Recruitment recruitment) {
+        List venueList = coachMapper.queryVenueByConditions(recruitment);
+        return venueList;
+    }
 }
Index: src/main/resources/mapper/venueMapper/ProductMapper.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- src/main/resources/mapper/venueMapper/ProductMapper.xml	(revision 1079668545ec855fa3bdcc7abb5d74a43a94f0ce)
+++ src/main/resources/mapper/venueMapper/ProductMapper.xml	(date 1555992585800)
@@ -1,6 +1,22 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="com.woniu.yoga.venue.dao.ProductMapper">
+
+  <select id="venueAllProductMapper" resultMap="BaseResultMap">
+    select * from product where venue_id = #{venueId}
+  </select>
+
+    <insert id="addProduct" >
+      insert into product values (default ,#{product.venueId},#{product.productType},#{product.productPrice},
+                                  #{product.detail},#{product.totalTime},#{product.productLevel},
+                                  #{product.startTime},#{product.endTime},#{product.consumeTime},0)
+    </insert>
+    <update id="venueDeleteProduct">
+        update product set product_flag = 1 where product_id = #{0};
+    </update>
+
+
+
   <resultMap id="BaseResultMap" type="com.woniu.yoga.venue.pojo.Product">
     <id column="product_id" jdbcType="INTEGER" property="productId" />
     <result column="venue_id" jdbcType="INTEGER" property="venueId" />
Index: src/main/resources/mapper/userMapper/CoachMapper.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- src/main/resources/mapper/userMapper/CoachMapper.xml	(revision 1079668545ec855fa3bdcc7abb5d74a43a94f0ce)
+++ src/main/resources/mapper/userMapper/CoachMapper.xml	(date 1555987752610)
@@ -11,13 +11,24 @@
       <if test="recruit.coachStyle !=null and ''!=recruit.coachStyle">
         and recruit.coach_style like concat('%',recruit.coach_style,'%')
       </if>
-      <if test="recruit.salaryUp != null and ''!= recruit.salaryUp">
-        <if test="recruit.salaryDown != null and ''!= recruit.salaryDown">
+      <if test="recruit.salaryUp != 0">
+        <if test="recruit.salaryDown != 0">
            <![CDATA[
                       and recruit.salaryUp >= salary_up and recruit.salaryDown <= salary_down
           ]]>
         </if>
-
+        <if test="recruit.salaryDown == 0">
+          <![CDATA[
+                      and recruit.salaryUp >= salary_up
+         ]]>
+        </if>
+      </if>
+      <if test="recruit.salaryUp == 0">
+        <if test="recruit.salaryDown != 0">
+            <![CDATA[
+                      and recruit.salaryDown <= salary_down
+         ]]>
+        </if>
       </if>
     </where>
   </select>
Index: src/main/java/com/woniu/yoga/user/service/CoachService.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- src/main/java/com/woniu/yoga/user/service/CoachService.java	(revision 1079668545ec855fa3bdcc7abb5d74a43a94f0ce)
+++ src/main/java/com/woniu/yoga/user/service/CoachService.java	(date 1555987752594)
@@ -1,6 +1,8 @@
 package com.woniu.yoga.user.service;
 
 import com.woniu.yoga.user.pojo.Coach;
+import com.woniu.yoga.venue.pojo.Recruitment;
+import com.woniu.yoga.venue.pojo.Venue;
 import com.woniu.yoga.user.vo.Result;
 import com.woniu.yoga.user.vo.StudentDetailVO;
 import org.springframework.stereotype.Service;
@@ -36,6 +38,9 @@
      * @return
      **/
     Result listCoachStyles();
+    //教练根据查询条件查询场馆list
+    List<Venue> findVenueByConditions(Recruitment recruitment);
+
 
 
     Result updateOrderForWaitToPay(String orderId);
Index: src/main/resources/mapper/venueMapper/VenueMapper.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- src/main/resources/mapper/venueMapper/VenueMapper.xml	(revision 1079668545ec855fa3bdcc7abb5d74a43a94f0ce)
+++ src/main/resources/mapper/venueMapper/VenueMapper.xml	(date 1556012722299)
@@ -46,7 +46,6 @@
         </if>
       </if>
     </where>
-
   </select>
 
   <insert id="waitForSign" >
@@ -65,6 +64,63 @@
     insert into recruitment values (default ,#{recruit.venue_id},#{recruit.coach_type},#{recruit.coach_style},#{recruit.salary_up},#{recruit.salary_down},0)
   </insert>
 
+  <select id="venueQueryCoach" resultMap="coachVOResultMap">
+    select
+      c.coach_type,
+      c.coach_style,
+      u.real_name,
+      u.user_phone,
+      u.user_qq
+     from oach c left  join `user` u on
+     c.user_id = u.user_id
+    <where>
+      <if test="coachInformationVO.realName != null and ''!=coachInformationVO.realName">
+          and real_name like  concat('%',coachInformationVO.realName,'%')
+      </if>
+      <if test="coachInformationVO.coachType != null and ''!=coachInformationVO.coachType">
+          and coach_type like concat('%',coachInformationVO.coachType,'%')
+      </if>
+      <if test="coachInformationVO.coachStyle != null ''!=coachInformationVO.coachStyle">
+          and coach_style like concat('%',coachInformationVO.coachStyle,'%')
+      </if>
+      and where c.venue_id = #{coachInformationVO.venueId}
+    </where>
+  </select>
+
+  <update id="venueBreakCoachMapper" >
+    update venue_coach set cv_status = 2 where coach_id = #{0}
+  </update>
+
+
+  <resultMap id="coachVOResultMap" type="com.woniu.yoga.venue.vo.CoachInformationVO">
+    <id column="coach_id" jdbcType="INTEGER" property="coachId"></id>
+    <result column="real_name" jdbcType="VARCHAR" property="realName" />
+    <result column="coach_type" jdbcType="VARCHAR" property="coachType" />
+    <result column="coach_style" jdbcType="VARCHAR" property="coachStyle" />
+    <result column="user_phone" jdbcType="VARCHAR" property="userPhone" />
+    <result column="user_qq" jdbcType="VARCHAR" property="userQq" />
+    <result column="venue_id" jdbcType="INTEGER" property="venueId" />
+  </resultMap>
+
+  <update id="venuePerfectInformationMapper">
+    update venue
+    <set>
+      <if test="venue.img1 != null and ''!= venue.img1">
+        img1 = #{venue.img1}
+      </if>
+      <if test="venue.img2 != null and ''!= venue.img2">
+        img2 = #{venue.img2}
+      </if>
+      <if test="venue.img3 != null and ''!= venue.img3">
+        img3 = #{venue.img3}
+      </if>
+      <if test="venue.venueDetail != null and ''!= venue.venueDetail">
+        venue_detail = #{venue.venueDetail}
+      </if>
+    </set>
+    where venue_id = #{venue.venueId}
+  </update>
+
 
 
   <resultMap id="BaseResultMap" type="com.woniu.yoga.venue.pojo.Venue">
Index: src/main/java/com/woniu/yoga/user/controller/CoachController.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- src/main/java/com/woniu/yoga/user/controller/CoachController.java	(revision 1079668545ec855fa3bdcc7abb5d74a43a94f0ce)
+++ src/main/java/com/woniu/yoga/user/controller/CoachController.java	(date 1556020410325)
@@ -2,11 +2,10 @@
 
 import com.woniu.yoga.user.pojo.Coach;
 import com.woniu.yoga.user.pojo.User;
+import com.woniu.yoga.user.service.CoachService;
 import com.woniu.yoga.user.vo.Result;
-import com.woniu.yoga.user.vo.StudentDetailVO;
 import com.woniu.yoga.venue.pojo.Recruitment;
 import com.woniu.yoga.venue.pojo.Venue;
-import com.woniu.yoga.user.service.CoachService;
 import org.springframework.beans.factory.annotation.Autowired;
 import org.springframework.stereotype.Controller;
 import org.springframework.web.bind.annotation.RequestMapping;
@@ -32,9 +31,11 @@
 
     //-------------------------------------招聘------------------------------------------
     //模糊查询场馆list(是否需要招聘(需要场馆已经发布了招聘信息，从招聘表中去查)，招聘流派，工资待遇)
+   @RequestMapping("/selectVenueByConditions")
+   @ResponseBody
     public List<Venue> selectVenueByConditions(Recruitment recruitment){
-
-        return  null;
+        List venueList = coachService.findVenueByConditions(recruitment);
+        return  venueList;
     }
 
 
